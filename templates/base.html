<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Defentory â€” Cyber Defensive Coverage Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<header>
    <div class="nav-container">
        <div class="logo">
            <a href="{{ url_for('index') }}">
                <img src="{{ url_for('static', filename='images/defentory.png') }}" 
                     class="logo-img">
            </a>
        </div>

        <nav class="desktop-nav">
            <a href="{{ url_for('intake') }}">Add Detection</a>
            <a href="{{ url_for('report') }}">List View</a>
            <a href="{{ url_for('defendreport') }}">Dashboard</a>
            <a href="{{ url_for('heatmap') }}">Heatmap</a>
        </nav>

        <label class="switch">
            <input type="checkbox" id="theme-switch">
            <span class="slider">
            </span>
        </label>
    </div>
</header>
<main>
    {% block content %}{% endblock %}
</main>


<script>
    const toggle = document.getElementById('theme-switch');
    const html = document.documentElement;
    if (localStorage.getItem('theme') === 'dark' || (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        html.dataset.theme = 'dark';
        toggle.checked = true;
    }
    toggle.addEventListener('change', () => {
        if (toggle.checked) {
            html.dataset.theme = 'dark';
            localStorage.setItem('theme', 'dark');
        } else {
            html.dataset.theme = 'light';
            localStorage.setItem('theme', 'light');
        }
    });
</script>

</body>
</html>